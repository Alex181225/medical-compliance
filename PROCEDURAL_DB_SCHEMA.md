## Взаимосвязи и логика работы

### 1. Как создается назначение?
Сценарий: Врач создает документ "Назначение на процедуру".
*   Система должна автоматически подставлять текущие дату и время.
*   Врач выбирает Пациента из справочника. (Система может показывать только пациентов, находящихся в данный момент в стационаре/записанных в поликлинику?).
*   Врач выбирает Услугу из справочника. (При выборе услуги система может автоматически подставлять ее длительность и стоимость).
*   При проведении документа система должна проверить, нет ли у пациента аллергии на препараты, если это указано в его карте.
*   После проведения документа статус меняется на "Запланировано", а запись появляется в электронном журнале медсестры.

### 2. Как выполняется процедура?
Сценарий: Медсестра выполняет назначение.
*   Медсестра находит себя в журнале назначений, видит список.
*   Она отмечает назначение как "Выполнено". Система запрашивает подтверждение.
*   При подтверждении система автоматически:
    *   Создает документ "Выполнение процедуры" и связывает его с исходным назначением.
    *   Фиксирует ФИО исполнителя и точное время выполнения.
    *   Меняет статус в исходном назначении на "Выполнено".
    *   (Если ведется учет медикаментов) — списывает со склада использованные материалы.
 
## Макет интерфейса медсестры

Экран №1: "Рабочий стол медсестры на смене"
*   Виджет "Назначения на сегодня":
    *   Таблица с колонками: Время | Пациент (Код) | Услуга | Статус.
    *   Кнопки-фильтры: "Все", "Невыполненные", "Выполненные".
    *   Возле каждого невыполненного назначения — кнопка "Выполнить".
*   Виджет "Срочные назначения": Список назначений с высоким приоритетом.
*   Кнопка "Отчет за смену": Для быстрого формирования итогового отчета.

Попап "Подтверждение выполнения":
*   По нажатию кнопки "Выполнить" открывается окно.
*   Поля: Пациент: [Иванов И.И. (Код 123)], Услуга: [В/в инъекция].
*   Галочка: "Пациент подтвердил отсутствие аллергической реакции".
*   Поле для примечания (для ввода свободного текста, например, "Легкое покраснение в месте укола").
*   Кнопки: "Подтвердить", "Отмена".
